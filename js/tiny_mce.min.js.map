{"version":3,"file":"tiny_mce.min.js","mappings":"MAAA,IAAIA,EAKJ,IAUIC,EAAkB,CAClBC,MAAO,IACPC,OAAQ,IACRC,MAAO,qBACPC,MAAO,CACHC,KAAM,YACNC,QAAS,UACTC,KAhBR,2GAKMC,WAAWD,0BAabE,QAAS,CAAC,CACNC,KAAM,qBACNC,QAAS,WAEL,IAAIC,EAASC,SAASC,cAAc,0BAA0BC,MAG9DC,QAAQC,aAAaC,WAAWF,QAAQC,aAAaE,aAAa,sBAAsBP,MAExFb,EAAOqB,OACX,GACF,CACEV,KAAM,QACNC,QAAS,WAKjBK,QAAQK,OACJ,yCACA,CACIC,KAAK,SAASC,EAAQC,GAClBD,EAAOE,WAAW,6BACd,WACI1B,EAASwB,EAAOG,cAAcC,KAAK3B,GACnC,IAAI4B,EAAcf,SAASC,cAAc,0CACxDe,WAAWC,KAAKF,EAAQ,CAACG,YAAY,IACrC,IAAIC,EAAkBJ,EAAOK,YAAYC,SACzCF,EAAWG,MAAMC,SAAY,WAC7BJ,EAAWG,MAAMlC,MAAU,QAC3B+B,EAAWG,MAAME,OAAW,oBAC5BL,EAAWG,MAAMG,aAAe,MACrB,IAGJf,EAAOgB,UAAU,yBACb,CACIC,QAAS,kCACTrC,MAAM,qBACNsC,IAAI,4BACJC,MAAMlB,EAAI,0BAItB,EAEAmB,cAAc,WACV,OAAO,IACX,IAIR3B,QAAQ4B,cAAcC,IAClB,yBACA7B,QAAQ8B,QAAQC,wBAGpBC,QAAQC,IAAI,gC","sources":["webpack://tinymce/./tiny_mce.js"],"sourcesContent":["var dialog;\n\n/*\n    ADD FORM\n*/\nlet pageEmbedHtml = \n`<div  class=\"wp-editor-help\">\n    <label>\n        Select a page to embed\n    </label>\n    <br>\n    ${pageSelect.html}\n    <br>\n</div>`;\n\nlet pageEmbedDialog = {\n    width: 350,\n    height: 160,\n    title: 'Embed another page',\n    items: {\n        type: 'container',\n        classes: 'wp-help',\n        html: pageEmbedHtml\n    },\n    buttons: [{\n        text: 'Embed another page',\n        onclick: function(){\n            // Get page id\n            var pageId\t= document.querySelector(\"[name='page-selector']\").value;\n\n            // Insert the shortcode at the end\n            tinymce.activeEditor.setContent(tinymce.activeEditor.getContent()+`<br>[embed_page id=${pageId}]`);\n            \n            dialog.close();\n        }\n    },{\n        text: 'Close',\n        onclick: 'close'\n    }]\n} ;\n\n//select page\ntinymce.create(\n    'tinymce.plugins.insert_embed_shortcode',\n    {\n        init:function(editor, url){\n            editor.addCommand('mceInsert_embed_shortcode',\n                function(){\n                    dialog = editor.windowManager.open(pageEmbedDialog);\n                    var select\t\t\t\t\t\t= document.querySelector('.wp-editor-help [name=\"page-selector\"]');\n\t\t\t\t\tNiceSelect.bind(select, {searchable: true});\n\t\t\t\t\tvar niceselect \t\t\t\t\t= select._niceselect.dropdown\n\t\t\t\t\tniceselect.style.position\t\t= 'relative';\n\t\t\t\t\tniceselect.style.width\t\t\t= \"200px\";\n\t\t\t\t\tniceselect.style.border\t\t\t= '2px solid #303030';\n\t\t\t\t\tniceselect.style.marginBottom\t= '10px';\n                }\n            );\n            \n            editor.addButton('insert_embed_shortcode',\n                {\n                    tooltip: 'Embed another page in this page',\n                    title:'Embed another page',\n                    cmd:'mceInsert_embed_shortcode',\n                    image:url+'/../pictures/embed.png'\n                }\n            );\n        \n        },\n        \n        createControl:function(){\n            return null\n        },\n    }\n);\n//Register the plugin\ntinymce.PluginManager.add(\n    'insert_embed_shortcode',\n    tinymce.plugins.insert_embed_shortcode\n)\n\nconsole.log('Page embed tiny_mce.js loaded');"],"names":["dialog","pageEmbedDialog","width","height","title","items","type","classes","html","pageSelect","buttons","text","onclick","pageId","document","querySelector","value","tinymce","activeEditor","setContent","getContent","close","create","init","editor","url","addCommand","windowManager","open","select","NiceSelect","bind","searchable","niceselect","_niceselect","dropdown","style","position","border","marginBottom","addButton","tooltip","cmd","image","createControl","PluginManager","add","plugins","insert_embed_shortcode","console","log"],"sourceRoot":""}