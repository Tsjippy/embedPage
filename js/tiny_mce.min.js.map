{"version":3,"file":"tiny_mce.min.js","mappings":"MAAA,IAAIA,EAKJ,IAUIC,EAAkB,CAClBC,MAAO,IACPC,OAAQ,IACRC,MAAO,qBACPC,MAAO,CACHC,KAAM,YACNC,QAAS,UACTC,KAhBR,2GAKMC,WAAWD,0BAabE,QAAS,CAAC,CACNC,KAAM,qBACNC,QAAS,WAEL,IAAIC,EAASC,SAASC,cAAc,0BAA0BC,MAG9DC,QAAQC,aAAaC,WAAWF,QAAQC,aAAaE,aAAa,sBAAsBP,MAExFb,EAAOqB,OACX,GACF,CACEV,KAAM,QACNC,QAAS,WAKjBK,QAAQK,OACJ,yCACA,CACIC,KAAK,SAASC,EAAQC,GAClBD,EAAOE,WAAW,6BACd,WACI1B,EAASwB,EAAOG,cAAcC,KAAK3B,GACnC,IAAI4B,EAAcf,SAASC,cAAc,0CACxDc,EAAOC,YAAkBC,WAAWC,KAAKH,EAAQ,CAACI,YAAY,IAC9D,IAAIC,EAAkBL,EAAOC,YAAYK,SACzCD,EAAWE,MAAMC,SAAY,WAC7BH,EAAWE,MAAMlC,MAAU,QAC3BgC,EAAWE,MAAME,OAAW,oBAC5BJ,EAAWE,MAAMG,aAAe,MACrB,IAGJf,EAAOgB,UAAU,yBACb,CACIC,QAAS,kCACTrC,MAAM,qBACNsC,IAAI,4BACJC,MAAMlB,EAAI,0BAItB,EAEAmB,cAAc,WACV,OAAO,IACX,IAIR3B,QAAQ4B,cAAcC,IAClB,yBACA7B,QAAQ8B,QAAQC,wBAGpBC,QAAQC,IAAI,gC","sources":["webpack://tinymce/./tiny_mce.js"],"sourcesContent":["var dialog;\r\n\r\n/*\r\n    ADD FORM\r\n*/\r\nlet pageEmbedHtml = \r\n`<div  class=\"wp-editor-help\">\r\n    <label>\r\n        Select a page to embed\r\n    </label>\r\n    <br>\r\n    ${pageSelect.html}\r\n    <br>\r\n</div>`;\r\n\r\nlet pageEmbedDialog = {\r\n    width: 350,\r\n    height: 160,\r\n    title: 'Embed another page',\r\n    items: {\r\n        type: 'container',\r\n        classes: 'wp-help',\r\n        html: pageEmbedHtml\r\n    },\r\n    buttons: [{\r\n        text: 'Embed another page',\r\n        onclick: function(){\r\n            // Get page id\r\n            var pageId\t= document.querySelector(\"[name='page-selector']\").value;\r\n\r\n            // Insert the shortcode at the end\r\n            tinymce.activeEditor.setContent(tinymce.activeEditor.getContent()+`<br>[embed_page id=${pageId}]`);\r\n            \r\n            dialog.close();\r\n        }\r\n    },{\r\n        text: 'Close',\r\n        onclick: 'close'\r\n    }]\r\n} ;\r\n\r\n//select page\r\ntinymce.create(\r\n    'tinymce.plugins.insert_embed_shortcode',\r\n    {\r\n        init:function(editor, url){\r\n            editor.addCommand('mceInsert_embed_shortcode',\r\n                function(){\r\n                    dialog = editor.windowManager.open(pageEmbedDialog);\r\n                    var select\t\t\t\t\t\t= document.querySelector('.wp-editor-help [name=\"page-selector\"]');\r\n\t\t\t\t\tselect._niceselect \t\t\t\t= NiceSelect.bind(select, {searchable: true});\r\n\t\t\t\t\tvar niceselect \t\t\t\t\t= select._niceselect.dropdown\r\n\t\t\t\t\tniceselect.style.position\t\t= 'relative';\r\n\t\t\t\t\tniceselect.style.width\t\t\t= \"200px\";\r\n\t\t\t\t\tniceselect.style.border\t\t\t= '2px solid #303030';\r\n\t\t\t\t\tniceselect.style.marginBottom\t= '10px';\r\n                }\r\n            );\r\n            \r\n            editor.addButton('insert_embed_shortcode',\r\n                {\r\n                    tooltip: 'Embed another page in this page',\r\n                    title:'Embed another page',\r\n                    cmd:'mceInsert_embed_shortcode',\r\n                    image:url+'/../pictures/embed.png'\r\n                }\r\n            );\r\n        \r\n        },\r\n        \r\n        createControl:function(){\r\n            return null\r\n        },\r\n    }\r\n);\r\n//Register the plugin\r\ntinymce.PluginManager.add(\r\n    'insert_embed_shortcode',\r\n    tinymce.plugins.insert_embed_shortcode\r\n)\r\n\r\nconsole.log('Page embed tiny_mce.js loaded');"],"names":["dialog","pageEmbedDialog","width","height","title","items","type","classes","html","pageSelect","buttons","text","onclick","pageId","document","querySelector","value","tinymce","activeEditor","setContent","getContent","close","create","init","editor","url","addCommand","windowManager","open","select","_niceselect","NiceSelect","bind","searchable","niceselect","dropdown","style","position","border","marginBottom","addButton","tooltip","cmd","image","createControl","PluginManager","add","plugins","insert_embed_shortcode","console","log"],"sourceRoot":""}